generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = "postgresql://postgres:0nMyH0n0r@localhost:5432/propertydb"
}

model Property {
  id          Int          @id @default(autoincrement())
  address     String
  city        String
  state       String
  zip         String
  tenants     Tenant[]
  maintenance Maintenance[]
}

model Tenant {
  id         Int      @id @default(autoincrement())
  name       String
  leaseStart DateTime
  leaseEnd   DateTime
  rent       Float
  property   Property @relation(fields: [propertyId], references: [id])
  propertyId Int
}

model Maintenance {
  id          Int      @id @default(autoincrement())
  type        String
  status      String
  cost        Float
  requestedAt DateTime
  scheduledAt DateTime?
  closedAt    DateTime?
  property    Property @relation(fields: [propertyId], references: [id])
  propertyId  Int
}

model User {
  id       String   @id @default(uuid())
  email    String   @unique
  password String
  role     Role     @default(PROPERTY_MANAGER)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

enum Role {
  LANDLORD
  PROPERTY_MANAGER
}
